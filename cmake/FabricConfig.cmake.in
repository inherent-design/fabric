@PACKAGE_INIT@

include(CMakeFindDependencyMacro)

# Find dependencies
find_dependency(Threads REQUIRED)

# Import targets
include("${CMAKE_CURRENT_LIST_DIR}/FabricTargets.cmake")

# Check if optional components are enabled and find their dependencies
if(@FABRIC_USE_SDL@)
    # SDL3 dependencies vary by platform
    if(WIN32)
        # Windows SDL dependencies handled internally
    elseif(APPLE)
        # macOS frameworks handled internally
    else()
        # Linux dependencies
        find_dependency(PkgConfig REQUIRED)
        pkg_check_modules(X11 REQUIRED x11 xrandr xext xi)
    endif()
endif()

if(@FABRIC_USE_WEBVIEW@)
    # WebView dependencies vary by platform
    if(WIN32)
        # Windows WebView uses WebView2
    elseif(APPLE)
        # macOS WebView uses WebKit framework
    else()
        # Linux WebView uses GTK
        find_dependency(PkgConfig REQUIRED)
        pkg_check_modules(WEBKIT REQUIRED webkit2gtk-4.0)
    endif()
endif()

# Define convenient aliases
set(FABRIC_LIBRARIES Fabric::FabricLib)
set(FABRIC_INCLUDE_DIRS @CMAKE_INSTALL_PREFIX@/@CMAKE_INSTALL_INCLUDEDIR@)
set(FABRIC_VERSION "@PROJECT_VERSION@")

check_required_components(Fabric)